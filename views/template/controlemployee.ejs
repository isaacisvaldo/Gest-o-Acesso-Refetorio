<!DOCTYPE html>
<html data-bs-theme="light" lang="en-US" dir="ltr">

  
<!-- Mirrored from prium.github.io/falcon/v3.18.0/dashboard/support-desk.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 26 Nov 2023 21:59:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- ===============================================--><!--    Document Title--><!-- ===============================================-->
    <title>Bio | Access &amp; Minint</title>
 

    <!-- ===============================================--><!--    Favicons--><!-- ===============================================-->
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/img/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/img/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/img/favicons/favicon-16x16.png">
    <link rel="shortcut icon" type="image/x-icon" href="../assets/img/favicons/favicon.ico">
    <link rel="manifest" href="../assets/img/favicons/manifest.json">
    <meta name="msapplication-TileImage" content="../assets/img/favicons/mstile-150x150.png">
    <meta name="theme-color" content="#ffffff">
    <script src="../assets/js/config.js"></script>
    <script src="../vendors/simplebar/simplebar.min.js"></script>

    <!-- ===============================================--><!--    Stylesheets--><!-- ===============================================-->
    <link rel="preconnect" href="https://fonts.gstatic.com/">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700%7cPoppins:300,400,500,600,700,800,900&amp;display=swap" rel="stylesheet">
    <link href="../vendors/simplebar/simplebar.min.css" rel="stylesheet">
    <link href="../assets/css/theme-rtl.min.css" rel="stylesheet" id="style-rtl">
    <link href="../assets/css/theme.min.css" rel="stylesheet" id="style-default">
    <link href="../assets/css/user-rtl.min.css" rel="stylesheet" id="user-style-rtl">
    <link href="../assets/css/user.min.css" rel="stylesheet" id="user-style-default">
    <script>
      var isRTL = JSON.parse(localStorage.getItem('isRTL'));
      if (isRTL) {
        var linkDefault = document.getElementById('style-default');
        var userLinkDefault = document.getElementById('user-style-default');
        linkDefault.setAttribute('disabled', true);
        userLinkDefault.setAttribute('disabled', true);
        document.querySelector('html').setAttribute('dir', 'rtl');
      } else {
        var linkRTL = document.getElementById('style-rtl');
        var userLinkRTL = document.getElementById('user-style-rtl');
        linkRTL.setAttribute('disabled', true);
        userLinkRTL.setAttribute('disabled', true);
      }
    </script>
  </head>

  <body>
    <!-- ===============================================--><!--    Main Content--><!-- ===============================================-->
    <main class="main" id="top">
      <div class="container" data-layout="container">
        <script>
          var isFluid = JSON.parse(localStorage.getItem('isFluid'));
          if (isFluid) {
            var container = document.querySelector('[data-layout]');
            container.classList.remove('container');
            container.classList.add('container-fluid');
          }
        </script>
        
     <%-include("partials/sidebar") %>
     <%-include("partials/navbar") %>
    
        <div class="content">
            <%-include("partials/complementNav") %>
          <script>
            var navbarPosition = localStorage.getItem('navbarPosition');
            var navbarVertical = document.querySelector('.navbar-vertical');
            var navbarTopVertical = document.querySelector('.content .navbar-top');
            var navbarTop = document.querySelector('[data-layout] .navbar-top:not([data-double-top-nav');
            var navbarDoubleTop = document.querySelector('[data-double-top-nav]');
            var navbarTopCombo = document.querySelector('.content [data-navbar-top="combo"]');

            if (localStorage.getItem('navbarPosition') === 'double-top') {
              document.documentElement.classList.toggle('double-top-nav-layout');
            }

            if (navbarPosition === 'top') {
              navbarTop.removeAttribute('style');
              navbarTopVertical.remove(navbarTopVertical);
              navbarVertical.remove(navbarVertical);
              navbarTopCombo.remove(navbarTopCombo);
              navbarDoubleTop.remove(navbarDoubleTop);
            } else if (navbarPosition === 'combo') {
              navbarVertical.removeAttribute('style');
              navbarTopCombo.removeAttribute('style');
              navbarTop.remove(navbarTop);
              navbarTopVertical.remove(navbarTopVertical);
              navbarDoubleTop.remove(navbarDoubleTop);
            } else if (navbarPosition === 'double-top') {
              navbarDoubleTop.removeAttribute('style');
              navbarTopVertical.remove(navbarTopVertical);
              navbarVertical.remove(navbarVertical);
              navbarTop.remove(navbarTop);
              navbarTopCombo.remove(navbarTopCombo);
            } else {
              navbarVertical.removeAttribute('style');
              navbarTopVertical.removeAttribute('style');
              navbarTop.remove(navbarTop);
              navbarDoubleTop.remove(navbarDoubleTop);
              navbarTopCombo.remove(navbarTopCombo);
            }
          </script>
         <div class="card mb-3">
          <div class="card-body">
            <div class="row flex-between-center">
              <div class="col-md">
                <h5 class="mb-2 mb-md-0">Controle de Registos Refetório</h5>
              </div>
              <div class="col-auto"><button class="btn btn-primary" role="button" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Novo Registro </button></div>
            </div>
          </div>
        </div>
       
    
        <div class="row gx-3">
          <div class="col-xxl-12 col-xl-12">
            <div class="card" id="ticketsTable" data-list='{"valueNames":["client","subject","status","priority","agent"],"page":11,"pagination":true,"fallback":"tickets-table-fallback"}'>
              <div class="card-header border-bottom border-200 px-0">
                <div class="d-lg-flex justify-content-between">
                  <div class="row flex-between-center gy-2 px-x1">
                    <div class="col-auto pe-0">
                      <h6 class="mb-0">All tickets</h6>
                    </div>
                    <div class="col-auto">
                      <form>
                        <div class="input-group input-search-width"><input class="form-control form-control-sm shadow-none search" type="search" placeholder="Search  by name" aria-label="search" /><button class="btn btn-sm btn-outline-secondary border-300 hover-border-secondary"><span class="fa fa-search fs--1"></span></button></div>
                      </form>
                    </div>
                  </div>
                  <div class="border-bottom border-200 my-3"></div>
                  <div class="d-flex align-items-center justify-content-between justify-content-lg-end px-x1"><button class="btn btn-sm btn-falcon-default d-xl-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#ticketOffcanvas" aria-controls="ticketOffcanvas"><span class="fas fa-filter" data-fa-transform="shrink-4 down-1"></span><span class="ms-1 d-none d-sm-inline-block">Filter</span></button>
                    <div class="bg-300 mx-3 d-none d-lg-block d-xl-none" style="width:1px; height:29px"></div>
                    <div class="d-none" id="table-ticket-actions">
                      <div class="d-flex"><select class="form-select form-select-sm" aria-label="Bulk actions">
                          <option selected="">Bulk actions</option>
                          <option value="Refund">Refund</option>
                          <option value="Delete">Delete</option>
                          <option value="Archive">Archive</option>
                        </select><button class="btn btn-falcon-default btn-sm ms-2" type="button">Apply</button></div>
                    </div>
                    <div class="d-flex align-items-center" id="table-ticket-replace-element">
                     <div class="dropdown font-sans-serif ms-2"><button class="btn btn-falcon-default text-600 btn-sm dropdown-toggle dropdown-caret-none" type="button" id="preview-dropdown" data-bs-toggle="dropdown" data-boundary="viewport" aria-haspopup="true" aria-expanded="false"><span class="fas fa-ellipsis-h fs--2"></span></button>
                        <div class="dropdown-menu dropdown-menu-end border py-2" aria-labelledby="preview-dropdown"><a class="dropdown-item" href="#!">View</a><a class="dropdown-item" href="#!">Export</a>
                          <div class="dropdown-divider"></div><a class="dropdown-item text-danger" href="#!">Remove</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-body p-0">
                <div class="table-responsive scrollbar">
                  <table class="table table-sm mb-0 fs--1 table-view-tickets">
                    <thead class="bg-body-tertiary">
                      <tr>
                        <th class="py-2 fs-0 pe-2" style="width: 28px;">
                          <div class="form-check d-flex align-items-center"><input class="form-check-input" id="checkbox-bulk-table-tickets-select" type="checkbox" data-bulk-select='{"body":"table-ticket-body","actions":"table-ticket-actions","replacedElement":"table-ticket-replace-element"}' /></div>
                        </th>
                        <th class="text-800 sort align-middle ps-2" data-sort="client">Funcionario</th>
                        <th class="text-800 sort align-middle" data-sort="subject" style="min-width:15.625rem">Data Registro</th>
                        <th class="text-800 sort align-middle" data-sort="status">Status</th>
                        <th class="text-800 sort align-middle" data-sort="priority">Priority</th>
                        <th class="text-800 sort align-middle" data-sort="agent">Code</th>
                      </tr>
                    </thead>
                    <tbody class="list" id="table-ticket-body">
                     <% historyPayment.forEach(element => { %>
                      <tr>
                        <td class="align-middle fs-0 py-3">
                          <div class="form-check mb-0"><input class="form-check-input" type="checkbox" id="table-view-tickets-0" data-bulk-select-row="data-bulk-select-row" /></div>
                        </td>
                        <td class="align-middle client white-space-nowrap pe-3 pe-xxl-4 ps-2">
                          <div class="d-flex align-items-center gap-2 position-relative">
                           
                            <h6 class="mb-0"><a class="stretched-link text-900" href="contact-details.html"><%= element.employee.nome %></a></h6>
                          </div>
                        </td>
                        <td class="align-middle subject py-2 pe-4"><a class="fw-semi-bold" href="tickets-preview.html"><%= element.data %></a></td>
                        <td class="align-middle status fs-0 pe-4"><small class="badge rounded badge-subtle-success false"><%= element.estado %></small></td>
                        <td class="align-middle priority pe-4">
                          <div class="d-flex align-items-center gap-2">
                            <div style="--falcon-circle-progress-bar:100"><svg class="circle-progress-svg" width="26" height="26" viewBox="0 0 120 120">
                                <circle class="progress-bar-rail" cx="60" cy="60" r="54" fill="none" stroke-linecap="round" stroke-width="12"></circle>
                                <circle class="progress-bar-top" cx="60" cy="60" r="54" fill="none" stroke-linecap="round" stroke="#e63757" stroke-width="12"></circle>
                              </svg></div>
                            <h6 class="mb-0 text-700">Urgent</h6>
                          </div>
                        </td>
                        <% element.registroCodAcesso.forEach(e => { %>
                        <% if(element.Id==e.registroPagamento_fk){ %>
                        <td class="align-middle status fs-0 pe-4"><small class="badge rounded badge-subtle-success false"><%= e.designacao %></small>
                        <% }%>
                        <% }) %>
                      </td>
                      </tr>
                     <% }) %>
                    
                    
                    </tbody>
                  </table>
                  <div class="text-center d-none" id="tickets-table-fallback">
                    <p class="fw-bold fs-1 mt-3">No ticket found</p>
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <div class="d-flex justify-content-center"><button class="btn btn-sm btn-falcon-default me-1" type="button" title="Previous" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
                  <ul class="pagination mb-0"></ul><button class="btn btn-sm btn-falcon-default ms-1" type="button" title="Next" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
                </div>
              </div>
            </div>
          </div>
     
        </div>


      </div>
      <div class="modal fade" id="staticBackdrop" data-bs-keyboard="false" data-bs-backdrop="static" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg mt-6" role="document">
          <div class="modal-content border-0">
            <div class="position-absolute top-0 end-0 mt-3 me-3 z-1"><button class="btn-close btn btn-sm btn-circle d-flex flex-center transition-base" data-bs-dismiss="modal" aria-label="Close"></button></div>
            <div class="modal-body p-0">
              <div class="rounded-top-3 bg-body-tertiary py-3 ps-4 pe-6">
                <h4 class="mb-1" id="staticBackdropLabel">Registrar novo Usuário</h4>
              </div>
              <div class="p-4">
                <div class="row">
                  <div class="col-lg-9">
                    <div class="d-flex" ><span class="fa-stack ms-n1 me-3"><i class="fas fa-circle fa-stack-2x text-200"></i><i class="fa-inverse fa-stack-1x text-primary fas fa-tag" data-fa-transform="shrink-2"></i></span>
                      <div class="flex-1" id="teste">
                        <h5 class="mb-2 fs-0">Código do Funcionario</h5>
                        <form>
                            <div class="mb-3">
                              
                              <input class="form-control" required id="recipientId" type="number" />
                            </div>
           
                          </form>
                        </div>
                        <hr class="my-4" />
                      </div>
                    </div>
                    <div class="d-flex"><span class="fa-stack ms-n1 me-3"><i class="fas fa-circle fa-stack-2x text-200"></i><i class="fa-inverse fa-stack-1x text-primary fas fa-align-left" data-fa-transform="shrink-2"></i></span>
                      <div class="flex-1">
                        <h5 class="mb-2 fs-0">Resultado da Pesquisa</h5>
                        <p class="text-break fs--1" id="result"> </p>
                          <p id="codId"></p>
                          <p id="nameId"></p>
                       
                       
                        
                      </div>
                    </div>
                  </div>
                 
                  <div class="modal-footer" >
                    <button class="btn btn-secondary" id="btn1" type="button" data-bs-dismiss="modal">fechar</button>
                    <button class="btn btn-primary" type="button" id="btn2"  onclick="find()" >Localizar </button></div>
                    <button class="btn btn-success" type="button" id="btn3" hidden onclick="enviar()" >Registrar </button></div>
               
                  </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
    <input type="hidden" id="domainID" value="<%=domain%>" />

    <script src="../../../vendors/popper/popper.min.js"></script>
    <script src="../../../vendors/bootstrap/bootstrap.min.js"></script>
    <script src="../../../vendors/anchorjs/anchor.min.js"></script>
    <script src="../../../vendors/is/is.min.js"></script>
    <script src="../../../vendors/tinymce/tinymce.min.js"></script>
    <script src="../../../vendors/choices/choices.min.js"></script>
    <script src="../../../assets/js/flatpickr.js"></script>
    <script src="../../../vendors/dropzone/dropzone.min.js"></script>
    <script src="../../../vendors/fontawesome/all.min.js"></script>
    <script src="../../../vendors/lodash/lodash.min.js"></script>
    <script src="../../../../../../polyfill.io/v3/polyfill.min58be.js?features=window.scroll"></script>
    <script src="../../../vendors/list.js/list.min.js"></script>
    <script src="../../../assets/js/theme.js"></script>
    <script>
  const domain = document.getElementById("domainID").value;
  var resposta = null
      function find() {
    var recipientId = document.getElementById('recipientId').value
    fetch(`${domain}/findEmployee/${recipientId}`, {
        method: 'GET'
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Ocorreu um erro ao enviar a imagem.');
        }
        return response.json();
    })
    .then(data => {
      if(!data.error){
        document.getElementById("teste").setAttribute('hidden', true);
     document.getElementById("btn1").setAttribute('hidden', true);
     document.getElementById("btn2").setAttribute('hidden', true);
     document.getElementById("btn3").removeAttribute('hidden');
     document.getElementById("codId").innerHTML=data.employee.cod
     document.getElementById("nameId").innerHTML=data.employee.nome
        resposta=data.employee.cod
        console.log('Resposta do servidor:', data);
      }else{
        document.getElementById('result').innerHTML =data.error; 
       document.getElementById('result').setAttribute('class', 'text-danger')
      }
  
    
    })
    .catch(error => {
        // Lidar com erros
        console.error('Erro:', error);
    });
        
        }
      
     function enviar() {
     window.location =`/employeePayment/${resposta}`
    
}
     
   </script>
  
  </body>



</html>